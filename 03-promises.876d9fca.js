!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequire7bc7;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequire7bc7=o);var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var a={};function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e};var s=o("iU1Pc");new(function(){"use strict";function t(n){var i=n.formRef,o=n.onResolve,a=n.onReject;e(r)(this,t),this.formRef=i,this.onResolve=o,this.onReject=a,this.intervalId=null,this.sumDelay=0,this.position=1}return e(a)(t,[{key:"init",value:function(){this.addListeners()}},{key:"addListeners",value:function(){this.formRef.addEventListener("submit",this.onSubmitForm.bind(this))}},{key:"onSubmitForm",value:function(e){var t=this;e.preventDefault();var n=e.currentTarget.elements,i=n.delay,o=n.step,r=n.amount,a=Number(i.value),l=Number(o.value),s=Number(r.value);setTimeout((function(){var e=t;t.sumDelay+=a,t.callCreatePromise(),t.intervalId=setInterval((function(){e.position+=1,e.sumDelay+=l,e.position>s?e.clear():e.callCreatePromise()}),l)}),a)}},{key:"callCreatePromise",value:function(){this.createPromise(this.position,this.sumDelay).then(this.onResolve.bind(this)).catch(this.onReject.bind(this))}},{key:"createPromise",value:function(e,t){return new Promise((function(n,i){Math.random()>.3?n({position:e,delay:t}):i({position:e,delay:t})}))}},{key:"clear",value:function(){clearInterval(this.intervalId),this.intervalId=null,this.sumDelay=0,this.position=1}}]),t}())({formRef:document.querySelector(".form"),onResolve:function(t){var n=t.position,i=t.delay;e(s).Notify.success("Fulfilled promise ".concat(n," in ").concat(i,"ms"))},onReject:function(t){var n=t.position,i=t.delay;e(s).Notify.failure("Rejected promise ".concat(n," in ").concat(i,"ms"))}}).init()}();
//# sourceMappingURL=03-promises.876d9fca.js.map
